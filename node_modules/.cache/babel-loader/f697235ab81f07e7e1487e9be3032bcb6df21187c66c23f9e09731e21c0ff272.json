{"ast":null,"code":"// App.js\nimport'./App.css';import{Route,Routes,useNavigate}from'react-router-dom';import Home from'./Home.js';import Landing from'./Landing.js';import AboutPage from'./AboutPage.js';import RecPage from'./RecPage.js';import{useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[isAuthenticated,setIsAuthenticated]=useState(!!localStorage.getItem(\"token\"));const navigate=useNavigate();useEffect(()=>{const token=localStorage.getItem(\"token\");setIsAuthenticated(!!token);},[]);const logout=()=>{localStorage.removeItem(\"token\");setIsAuthenticated(false);navigate('/landing',{replace:true});// Navigate to landing page and replace history\n};return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:isAuthenticated?/*#__PURE__*/_jsx(Home,{onLogout:logout}):/*#__PURE__*/_jsx(Landing,{})}),/*#__PURE__*/_jsx(Route,{path:\"/landing\",element:/*#__PURE__*/_jsx(Landing,{})}),/*#__PURE__*/_jsx(Route,{path:\"/recommendations\",element:isAuthenticated?/*#__PURE__*/_jsx(RecPage,{onLogout:logout}):/*#__PURE__*/_jsx(Landing,{})}),/*#__PURE__*/_jsx(Route,{path:\"/about\",element:isAuthenticated?/*#__PURE__*/_jsx(AboutPage,{onLogout:logout}):/*#__PURE__*/_jsx(Landing,{})})]})});}export default App;","map":{"version":3,"names":["Route","Routes","useNavigate","Home","Landing","AboutPage","RecPage","useState","useEffect","jsx","_jsx","jsxs","_jsxs","App","isAuthenticated","setIsAuthenticated","localStorage","getItem","navigate","token","logout","removeItem","replace","className","children","path","element","onLogout"],"sources":["/Users/rishaankumar/Desktop/Code/TrackTheSpot_v1/track-the-spot/src/App.js"],"sourcesContent":["// App.js\nimport './App.css';\nimport { Route, Routes, useNavigate } from 'react-router-dom';\nimport Home from './Home.js';\nimport Landing from './Landing.js';\nimport AboutPage from './AboutPage.js';\nimport RecPage from './RecPage.js';\nimport { useState, useEffect } from 'react';\n\nfunction App() {\n    const [isAuthenticated, setIsAuthenticated] = useState(!!localStorage.getItem(\"token\"));\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        const token = localStorage.getItem(\"token\");\n        setIsAuthenticated(!!token);\n    }, []);\n\n    const logout = () => {\n        localStorage.removeItem(\"token\");\n        setIsAuthenticated(false);\n        navigate('/landing', { replace: true }); // Navigate to landing page and replace history\n    };\n\n    return (\n        <div className=\"App\">\n            <Routes>\n                <Route path=\"/\" element={isAuthenticated ? <Home onLogout={logout} /> : <Landing />} />\n                <Route path=\"/landing\" element={<Landing />} />\n                <Route path=\"/recommendations\" element={isAuthenticated ? <RecPage onLogout={logout} /> : <Landing />} />\n                <Route path=\"/about\" element={isAuthenticated ? <AboutPage onLogout={logout} /> : <Landing />} />\n            </Routes>\n        </div>\n    );\n}\n\nexport default App;\n"],"mappings":"AAAA;AACA,MAAO,WAAW,CAClB,OAASA,KAAK,CAAEC,MAAM,CAAEC,WAAW,KAAQ,kBAAkB,CAC7D,MAAO,CAAAC,IAAI,KAAM,WAAW,CAC5B,MAAO,CAAAC,OAAO,KAAM,cAAc,CAClC,MAAO,CAAAC,SAAS,KAAM,gBAAgB,CACtC,MAAO,CAAAC,OAAO,KAAM,cAAc,CAClC,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE5C,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACX,KAAM,CAACC,eAAe,CAAEC,kBAAkB,CAAC,CAAGR,QAAQ,CAAC,CAAC,CAACS,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,CACvF,KAAM,CAAAC,QAAQ,CAAGhB,WAAW,CAAC,CAAC,CAE9BM,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAW,KAAK,CAAGH,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3CF,kBAAkB,CAAC,CAAC,CAACI,KAAK,CAAC,CAC/B,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAC,MAAM,CAAGA,CAAA,GAAM,CACjBJ,YAAY,CAACK,UAAU,CAAC,OAAO,CAAC,CAChCN,kBAAkB,CAAC,KAAK,CAAC,CACzBG,QAAQ,CAAC,UAAU,CAAE,CAAEI,OAAO,CAAE,IAAK,CAAC,CAAC,CAAE;AAC7C,CAAC,CAED,mBACIZ,IAAA,QAAKa,SAAS,CAAC,KAAK,CAAAC,QAAA,cAChBZ,KAAA,CAACX,MAAM,EAAAuB,QAAA,eACHd,IAAA,CAACV,KAAK,EAACyB,IAAI,CAAC,GAAG,CAACC,OAAO,CAAEZ,eAAe,cAAGJ,IAAA,CAACP,IAAI,EAACwB,QAAQ,CAAEP,MAAO,CAAE,CAAC,cAAGV,IAAA,CAACN,OAAO,GAAE,CAAE,CAAE,CAAC,cACvFM,IAAA,CAACV,KAAK,EAACyB,IAAI,CAAC,UAAU,CAACC,OAAO,cAAEhB,IAAA,CAACN,OAAO,GAAE,CAAE,CAAE,CAAC,cAC/CM,IAAA,CAACV,KAAK,EAACyB,IAAI,CAAC,kBAAkB,CAACC,OAAO,CAAEZ,eAAe,cAAGJ,IAAA,CAACJ,OAAO,EAACqB,QAAQ,CAAEP,MAAO,CAAE,CAAC,cAAGV,IAAA,CAACN,OAAO,GAAE,CAAE,CAAE,CAAC,cACzGM,IAAA,CAACV,KAAK,EAACyB,IAAI,CAAC,QAAQ,CAACC,OAAO,CAAEZ,eAAe,cAAGJ,IAAA,CAACL,SAAS,EAACsB,QAAQ,CAAEP,MAAO,CAAE,CAAC,cAAGV,IAAA,CAACN,OAAO,GAAE,CAAE,CAAE,CAAC,EAC7F,CAAC,CACR,CAAC,CAEd,CAEA,cAAe,CAAAS,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}