{"ast":null,"code":"import'./Landing.css';import{useEffect}from\"react\";import Button from'@mui/material/Button';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Landing(){const CLIENT_ID=process.env.REACT_APP_SPOTIFY_CLIENT_ID;const REDIRECT_URI=process.env.REACT_APP_REDIRECT_URI;const AUTH_ENDPOINT=\"https://accounts.spotify.com/authorize\";const RESPONSE_TYPE=\"token\";const navigate=useNavigate();useEffect(()=>{const hash=window.location.hash;let token=localStorage.getItem(\"token\");if(!token&&hash){var _hash$substring$split;const hashToken=(_hash$substring$split=hash.substring(1).split(\"&\").find(elem=>elem.startsWith(\"access_token\")))===null||_hash$substring$split===void 0?void 0:_hash$substring$split.split(\"=\")[1];if(hashToken){// Set token in localStorage and navigate to home\nlocalStorage.setItem(\"token\",hashToken);window.location.hash=\"\";// Clear the hash from the URL\nnavigate('/',{replace:true});// Navigate to home page\n}}},[navigate]);const handleLogin=()=>{window.location.href=\"\".concat(AUTH_ENDPOINT,\"?client_id=\").concat(CLIENT_ID,\"&redirect_uri=\").concat(REDIRECT_URI,\"&response_type=\").concat(RESPONSE_TYPE,\"&scope=user-top-read\");};return/*#__PURE__*/_jsx(\"div\",{className:\"Home\",children:/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsx(\"div\",{className:\"titleArea\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"titleBox\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"title\",children:\"TrackTheSpot\"}),/*#__PURE__*/_jsx(\"p\",{className:\"subtitle\",children:\"your personal Spotify data tracker\"}),/*#__PURE__*/_jsx(\"div\",{className:\"button\",children:/*#__PURE__*/_jsx(Button,{size:\"large\",variant:\"contained\",color:\"success\",onClick:handleLogin,children:/*#__PURE__*/_jsx(\"p\",{className:\"buttonText\",children:\"JOIN\"})})})]})})})});}export default Landing;","map":{"version":3,"names":["useEffect","Button","useNavigate","jsx","_jsx","jsxs","_jsxs","Landing","CLIENT_ID","process","env","REACT_APP_SPOTIFY_CLIENT_ID","REDIRECT_URI","REACT_APP_REDIRECT_URI","AUTH_ENDPOINT","RESPONSE_TYPE","navigate","hash","window","location","token","localStorage","getItem","_hash$substring$split","hashToken","substring","split","find","elem","startsWith","setItem","replace","handleLogin","href","concat","className","children","size","variant","color","onClick"],"sources":["/Users/rishaankumar/Desktop/Code/TrackTheSpot_v1/track-the-spot/src/Landing.js"],"sourcesContent":["import './Landing.css';\nimport { useEffect } from \"react\";\nimport Button from '@mui/material/Button';\nimport { useNavigate } from 'react-router-dom';\n\nfunction Landing() {\n    const CLIENT_ID = process.env.REACT_APP_SPOTIFY_CLIENT_ID;\n    const REDIRECT_URI = process.env.REACT_APP_REDIRECT_URI;\n    const AUTH_ENDPOINT = \"https://accounts.spotify.com/authorize\";\n    const RESPONSE_TYPE = \"token\";\n\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        const hash = window.location.hash;\n        let token = localStorage.getItem(\"token\");\n\n        if (!token && hash) {\n            const hashToken = hash.substring(1).split(\"&\").find(elem => elem.startsWith(\"access_token\"))?.split(\"=\")[1];\n            if (hashToken) {\n                // Set token in localStorage and navigate to home\n                localStorage.setItem(\"token\", hashToken);\n                window.location.hash = \"\"; // Clear the hash from the URL\n                navigate('/', { replace: true }); // Navigate to home page\n            }\n        }\n    }, [navigate]);\n\n    const handleLogin = () => {\n        window.location.href = `${AUTH_ENDPOINT}?client_id=${CLIENT_ID}&redirect_uri=${REDIRECT_URI}&response_type=${RESPONSE_TYPE}&scope=user-top-read`;\n    };\n\n    return (\n        <div className='Home'>\n            <div className=\"App\">\n                <div className='titleArea'>\n                    <div className='titleBox'>\n                        <p className=\"title\">TrackTheSpot</p>\n                        <p className=\"subtitle\">your personal Spotify data tracker</p>\n                        <div className='button'>\n                            <Button size=\"large\" variant=\"contained\" color=\"success\" onClick={handleLogin}>\n                                <p className='buttonText'>JOIN</p>\n                            </Button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Landing;"],"mappings":"AAAA,MAAO,eAAe,CACtB,OAASA,SAAS,KAAQ,OAAO,CACjC,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CACzC,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE/C,QAAS,CAAAC,OAAOA,CAAA,CAAG,CACf,KAAM,CAAAC,SAAS,CAAGC,OAAO,CAACC,GAAG,CAACC,2BAA2B,CACzD,KAAM,CAAAC,YAAY,CAAGH,OAAO,CAACC,GAAG,CAACG,sBAAsB,CACvD,KAAM,CAAAC,aAAa,CAAG,wCAAwC,CAC9D,KAAM,CAAAC,aAAa,CAAG,OAAO,CAE7B,KAAM,CAAAC,QAAQ,CAAGd,WAAW,CAAC,CAAC,CAE9BF,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAiB,IAAI,CAAGC,MAAM,CAACC,QAAQ,CAACF,IAAI,CACjC,GAAI,CAAAG,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAEzC,GAAI,CAACF,KAAK,EAAIH,IAAI,CAAE,KAAAM,qBAAA,CAChB,KAAM,CAAAC,SAAS,EAAAD,qBAAA,CAAGN,IAAI,CAACQ,SAAS,CAAC,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAACC,IAAI,CAACC,IAAI,EAAIA,IAAI,CAACC,UAAU,CAAC,cAAc,CAAC,CAAC,UAAAN,qBAAA,iBAA1EA,qBAAA,CAA4EG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAC3G,GAAIF,SAAS,CAAE,CACX;AACAH,YAAY,CAACS,OAAO,CAAC,OAAO,CAAEN,SAAS,CAAC,CACxCN,MAAM,CAACC,QAAQ,CAACF,IAAI,CAAG,EAAE,CAAE;AAC3BD,QAAQ,CAAC,GAAG,CAAE,CAAEe,OAAO,CAAE,IAAK,CAAC,CAAC,CAAE;AACtC,CACJ,CACJ,CAAC,CAAE,CAACf,QAAQ,CAAC,CAAC,CAEd,KAAM,CAAAgB,WAAW,CAAGA,CAAA,GAAM,CACtBd,MAAM,CAACC,QAAQ,CAACc,IAAI,IAAAC,MAAA,CAAMpB,aAAa,gBAAAoB,MAAA,CAAc1B,SAAS,mBAAA0B,MAAA,CAAiBtB,YAAY,oBAAAsB,MAAA,CAAkBnB,aAAa,wBAAsB,CACpJ,CAAC,CAED,mBACIX,IAAA,QAAK+B,SAAS,CAAC,MAAM,CAAAC,QAAA,cACjBhC,IAAA,QAAK+B,SAAS,CAAC,KAAK,CAAAC,QAAA,cAChBhC,IAAA,QAAK+B,SAAS,CAAC,WAAW,CAAAC,QAAA,cACtB9B,KAAA,QAAK6B,SAAS,CAAC,UAAU,CAAAC,QAAA,eACrBhC,IAAA,MAAG+B,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAC,cAAY,CAAG,CAAC,cACrChC,IAAA,MAAG+B,SAAS,CAAC,UAAU,CAAAC,QAAA,CAAC,oCAAkC,CAAG,CAAC,cAC9DhC,IAAA,QAAK+B,SAAS,CAAC,QAAQ,CAAAC,QAAA,cACnBhC,IAAA,CAACH,MAAM,EAACoC,IAAI,CAAC,OAAO,CAACC,OAAO,CAAC,WAAW,CAACC,KAAK,CAAC,SAAS,CAACC,OAAO,CAAER,WAAY,CAAAI,QAAA,cAC1EhC,IAAA,MAAG+B,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,MAAI,CAAG,CAAC,CAC9B,CAAC,CACR,CAAC,EACL,CAAC,CACL,CAAC,CACL,CAAC,CACL,CAAC,CAEd,CAEA,cAAe,CAAA7B,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}