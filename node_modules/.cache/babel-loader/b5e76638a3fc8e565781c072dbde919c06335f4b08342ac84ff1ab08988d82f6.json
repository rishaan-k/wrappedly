{"ast":null,"code":"import'./Home.css';import{useEffect,useState}from\"react\";import Table from'./Table.js';import HomeNavBar from'./HomeNavBar.js';import{useNavigate}from'react-router-dom';import Button from'@mui/material/Button';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Home(_ref){let{onLogout}=_ref;const[token,setToken]=useState(localStorage.getItem(\"token\")||\"\");const[topItems,setTopItems]=useState([]);const[activeDatatype,setActiveDatatype]=useState('tracks');const[activeDuration,setActiveDuration]=useState('short_term');const navigate=useNavigate();useEffect(()=>{if(!token){navigate('/landing');return;}fetchTopItems();},[token,activeDatatype,activeDuration,navigate]);const fetchTopItems=async()=>{try{const response=await fetch(\"https://api.spotify.com/v1/me/top/\".concat(activeDatatype,\"?time_range=\").concat(activeDuration,\"&limit=50\"),{method:'GET',headers:{'Authorization':\"Bearer \".concat(token)}});if(!response.ok){throw new Error('Failed to fetch top items');}const data=await response.json();setTopItems(data.items||[]);}catch(error){console.error(\"Error fetching top items:\",error);}};const handleDatatypeClick=datatype=>{setActiveDatatype(datatype);};const handleDurationClick=duration=>{setActiveDuration(duration);};const isActive=(current,active)=>current===active;return/*#__PURE__*/_jsxs(\"div\",{className:\"Home\",children:[/*#__PURE__*/_jsx(HomeNavBar,{onLogout:onLogout}),/*#__PURE__*/_jsxs(\"div\",{className:\"controls\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"typeControls\",children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",size:\"large\",sx:{backgroundColor:isActive('tracks',activeDatatype)?'#479454':'#8B0000',// Deep red when inactive\n'&:hover':{backgroundColor:isActive('tracks',activeDatatype)?'#3a7a46':'#600000'},color:'white'},onClick:()=>handleDatatypeClick('tracks'),children:\"Songs\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",size:\"large\",sx:{backgroundColor:isActive('artists',activeDatatype)?'#479454':'#8B0000','&:hover':{backgroundColor:isActive('artists',activeDatatype)?'#3a7a46':'#600000'},color:'white'},onClick:()=>handleDatatypeClick('artists'),children:\"Artists\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"timeControls\",children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",size:\"large\",sx:{backgroundColor:isActive('short_term',activeDuration)?'#479454':'#8B0000','&:hover':{backgroundColor:isActive('short_term',activeDuration)?'#3a7a46':'#600000'},color:'white'},onClick:()=>handleDurationClick('short_term'),children:\"Month\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",size:\"large\",sx:{backgroundColor:isActive('medium_term',activeDuration)?'#479454':'#8B0000','&:hover':{backgroundColor:isActive('medium_term',activeDuration)?'#3a7a46':'#600000'},color:'white'},onClick:()=>handleDurationClick('medium_term'),children:\"6 Months\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",size:\"large\",sx:{backgroundColor:isActive('long_term',activeDuration)?'#479454':'#8B0000','&:hover':{backgroundColor:isActive('long_term',activeDuration)?'#3a7a46':'#600000'},color:'white'},onClick:()=>handleDurationClick('long_term'),children:\"All Time\"})]})]}),/*#__PURE__*/_jsx(Table,{topItems:topItems,datatype:activeDatatype})]});}export default Home;","map":{"version":3,"names":["useEffect","useState","Table","HomeNavBar","useNavigate","Button","jsx","_jsx","jsxs","_jsxs","Home","_ref","onLogout","token","setToken","localStorage","getItem","topItems","setTopItems","activeDatatype","setActiveDatatype","activeDuration","setActiveDuration","navigate","fetchTopItems","response","fetch","concat","method","headers","ok","Error","data","json","items","error","console","handleDatatypeClick","datatype","handleDurationClick","duration","isActive","current","active","className","children","variant","size","sx","backgroundColor","color","onClick"],"sources":["/Users/rishaankumar/Desktop/Code/TrackTheSpot_v1/track-the-spot/src/Home.js"],"sourcesContent":["import './Home.css';\nimport { useEffect, useState } from \"react\";\nimport Table from './Table.js';\nimport HomeNavBar from './HomeNavBar.js';\nimport { useNavigate } from 'react-router-dom';\nimport Button from '@mui/material/Button';\n\nfunction Home({ onLogout }) {\n    const [token, setToken] = useState(localStorage.getItem(\"token\") || \"\");\n    const [topItems, setTopItems] = useState([]);\n    const [activeDatatype, setActiveDatatype] = useState('tracks');\n    const [activeDuration, setActiveDuration] = useState('short_term');\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        if (!token) {\n            navigate('/landing');\n            return;\n        }\n\n        fetchTopItems();\n    }, [token, activeDatatype, activeDuration, navigate]);\n\n    const fetchTopItems = async () => {\n        try {\n            const response = await fetch(\n                `https://api.spotify.com/v1/me/top/${activeDatatype}?time_range=${activeDuration}&limit=50`,\n                {\n                    method: 'GET',\n                    headers: {\n                        'Authorization': `Bearer ${token}`\n                    }\n                }\n            );\n\n            if (!response.ok) {\n                throw new Error('Failed to fetch top items');\n            }\n\n            const data = await response.json();\n            setTopItems(data.items || []);\n        } catch (error) {\n            console.error(\"Error fetching top items:\", error);\n        }\n    };\n\n    const handleDatatypeClick = (datatype) => {\n        setActiveDatatype(datatype);\n    };\n\n    const handleDurationClick = (duration) => {\n        setActiveDuration(duration);\n    };\n\n    const isActive = (current, active) => current === active;\n\n    return (\n        <div className='Home'>\n            <HomeNavBar onLogout={onLogout} />\n            <div className='controls'>\n                <div className='typeControls'>\n                    <Button\n                        variant=\"contained\"\n                        size=\"large\"\n                        sx={{\n                            backgroundColor: isActive('tracks', activeDatatype) ? '#479454' : '#8B0000', // Deep red when inactive\n                            '&:hover': {\n                                backgroundColor: isActive('tracks', activeDatatype) ? '#3a7a46' : '#600000',\n                            },\n                            color: 'white',\n                        }}\n                        onClick={() => handleDatatypeClick('tracks')}\n                    >\n                        Songs\n                    </Button>\n                    <Button\n                        variant=\"contained\"\n                        size=\"large\"\n                        sx={{\n                            backgroundColor: isActive('artists', activeDatatype) ? '#479454' : '#8B0000',\n                            '&:hover': {\n                                backgroundColor: isActive('artists', activeDatatype) ? '#3a7a46' : '#600000',\n                            },\n                            color: 'white',\n                        }}\n                        onClick={() => handleDatatypeClick('artists')}\n                    >\n                        Artists\n                    </Button>\n                </div>\n                <div className='timeControls'>\n                    <Button\n                        variant=\"contained\"\n                        size=\"large\"\n                        sx={{\n                            backgroundColor: isActive('short_term', activeDuration) ? '#479454' : '#8B0000',\n                            '&:hover': {\n                                backgroundColor: isActive('short_term', activeDuration) ? '#3a7a46' : '#600000',\n                            },\n                            color: 'white',\n                        }}\n                        onClick={() => handleDurationClick('short_term')}\n                    >\n                        Month\n                    </Button>\n                    <Button\n                        variant=\"contained\"\n                        size=\"large\"\n                        sx={{\n                            backgroundColor: isActive('medium_term', activeDuration) ? '#479454' : '#8B0000',\n                            '&:hover': {\n                                backgroundColor: isActive('medium_term', activeDuration) ? '#3a7a46' : '#600000',\n                            },\n                            color: 'white',\n                        }}\n                        onClick={() => handleDurationClick('medium_term')}\n                    >\n                        6 Months\n                    </Button>\n                    <Button\n                        variant=\"contained\"\n                        size=\"large\"\n                        sx={{\n                            backgroundColor: isActive('long_term', activeDuration) ? '#479454' : '#8B0000',\n                            '&:hover': {\n                                backgroundColor: isActive('long_term', activeDuration) ? '#3a7a46' : '#600000',\n                            },\n                            color: 'white',\n                        }}\n                        onClick={() => handleDurationClick('long_term')}\n                    >\n                        All Time\n                    </Button>\n                </div>\n            </div>\n            <Table topItems={topItems} datatype={activeDatatype} />\n        </div>\n    );\n}\n\nexport default Home;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}